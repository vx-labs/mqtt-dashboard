(function(e){function t(t){for(var n,o,a=t[0],c=t[1],u=t[2],d=0,f=[];d<a.length;d++)o=a[d],r[o]&&f.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},4678:function(e,t,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return s(t)}function i(e){var t=n[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="4678"},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var n=s("2b0e"),r=s("bb71");s("da64");n["a"].use(r["a"],{iconfont:"md"});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-toolbar",[s("v-toolbar-title",{staticClass:"headline text-uppercase"},[s("span",[e._v("MQTT")]),s("span",{staticClass:"font-weight-light"},[e._v("DASHBOARD")])]),s("v-spacer"),s("settings"),s("subscriptions")],1),s("v-content",[s("v-container",{attrs:{fluid:""}},[s("router-view")],1)],1),s("v-footer",{attrs:{app:""}})],1)},o=[],a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-layout",[s("v-flex",[s("v-btn",{attrs:{icon:""},on:{click:e.open}},[s("v-icon",[e._v("settings")])],1),s("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[e._v("Settings")])]),s("v-card-text",[s("v-form",{ref:"settings_form"},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{column:"",wrap:""}},[s("v-flex",[s("v-text-field",{attrs:{"prepend-icon":"storage",label:"MQTT Broker",required:""},model:{value:e.broker,callback:function(t){e.broker=t},expression:"broker"}})],1)],1),s("v-layout",[s("v-flex",[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"MQTT Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("v-flex",[s("v-text-field",{attrs:{"prepend-icon":"vpn_key",label:"MQTT Password",type:e.showPassword?"text":"password","append-icon":e.showPassword?"visibility_off":"visibility",required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{disabled:e.working,loading:e.working,flat:""},on:{click:e.save}},[e._v("Save")]),s("v-btn",{attrs:{disabled:e.working,flat:""},on:{click:e.close}},[e._v("Cancel")])],1)],1)],1)],1)],1)],1)},c=[],u=n["a"].extend({data(){return{display:!1,working:!1,showPassword:!1,broker:"",username:"",password:""}},methods:{async save(){if(this.$refs.settings_form.validate()){this.working=!0;let e=!1;this.username===this.$store.getters.mqtt_username&&this.password===this.$store.getters.mqtt_username||(e=!0,await this.$store.dispatch("SetMQTTCredentials",{username:this.username,password:this.password})),this.broker!==this.$store.getters.mqtt_broker&&(e=!0,await this.$store.dispatch("SetMQTTBroker",this.broker)),e&&this.$store.dispatch("MQTTConnect"),this.working=!1,this.close()}},close(){this.display=!1},open(){this.broker=this.$store.getters.mqtt_broker,this.username=this.$store.getters.mqtt_username,this.password=this.$store.getters.mqtt_password,this.display=!0}}}),l=u,d=s("2877"),f=s("6544"),p=s.n(f),m=s("8336"),v=s("b0af"),b=s("99d9"),h=s("12b2"),_=s("a523"),j=s("169a"),g=s("0e8f"),k=s("4bd4"),x=s("132d"),w=s("a722"),y=s("9910"),S=s("2677"),T=Object(d["a"])(l,a,c,!1,null,null,null);T.options.__file="settings.vue";var I=T.exports;p()(T,{VBtn:m["a"],VCard:v["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:h["a"],VContainer:_["a"],VDialog:j["a"],VFlex:g["a"],VForm:k["a"],VIcon:x["a"],VLayout:w["a"],VSpacer:y["a"],VTextField:S["a"]});var C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{persistent:"","max-width":"1200"},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[e._v("Subscriptions")])]),s("v-card-text",[s("v-form",{ref:"settings_form"},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.subscriptions},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.Pattern))]),s("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Qos||0))]),s("td",{staticClass:"text-xs-right"},[-1==t.item.Pattern.indexOf("+")?s("publish",{attrs:{publishCmd:function(s){return e.publish(t.item.Pattern,s)}}}):e._e()],1)]}}])})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{flat:""},on:{click:e.close}},[e._v("Close")])],1)],1)],1)},D=[],P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-text-field",{attrs:{autocomplete:"off",loading:e.working,disabled:e.working,"append-icon":"send"},on:{"click:append":function(t){e.publish()}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})},V=[],q=n["a"].extend({data(){return{input:"",working:!1}},props:["publishCmd"],methods:{async publish(){this.working=!0,await this.publishCmd(this.input),this.input="",this.working=!1}}}),O=q,$=Object(d["a"])(O,P,V,!1,null,null,null);$.options.__file="publish.vue";var z=$.exports;p()($,{VTextField:S["a"]});var M=n["a"].extend({components:{publish:z},data(){return{showPassword:!1,headers:[{text:"Pattern",value:"pattern",align:"left"},{text:"QoS",value:"qos",align:"center"},{text:"Publish",value:"publish",align:"right"}]}},computed:{subscriptions(){return this.$store.getters.subscriptionsBySession(this.$store.getters.selectedSession)},display(){return void 0!==this.$store.getters.selectedSession}},methods:{publish(e,t){return this.$store.dispatch("PublishCommand",{topic:e,payload:t})},close(){this.$store.dispatch("UnselectSession")}}}),R=M,W=s("8fea"),F=Object(d["a"])(R,C,D,!1,null,null,null);F.options.__file="subscriptions.vue";var Q=F.exports;p()(F,{VBtn:m["a"],VCard:v["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:h["a"],VContainer:_["a"],VDataTable:W["a"],VDialog:j["a"],VForm:k["a"],VSpacer:y["a"]});var A={name:"App",components:{settings:I,subscriptions:Q}},B=A,N=s("7496"),U=s("549c"),E=s("553a"),G=s("71d9"),L=s("2a7f"),H=Object(d["a"])(B,i,o,!1,null,null,null);H.options.__file="App.vue";var J=H.exports;p()(H,{VApp:N["a"],VContainer:_["a"],VContent:U["a"],VFooter:E["a"],VSpacer:y["a"],VToolbar:G["a"],VToolbarTitle:L["a"]});var K=s("8c4f"),X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[s("v-layout",{attrs:{column:"",wrap:""}},[s("v-flex",[s("h3",[e._v("Sessions")])]),s("v-flex",[s("sessions",{attrs:{sessions:e.sessions}})],1),s("v-flex",[s("h3",[e._v("Peers")])]),s("v-flex",[s("peers")],1),s("v-flex",[s("h3",[e._v("Subscriptions")])]),s("v-flex",[s("subscriptions")],1)],1)],1)},Y=[],Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.sessions},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(e.formatID(t.item.ID)))]),s("td",[e._v(e._s(t.item.Tenant))]),s("td",[e._v(e._s(t.item.ClientID))]),s("td",[e._v(e._s(e.getTimeFromNow(t.item.Created)))]),s("td",[e._v(e._s(t.item.RemoteAddress))]),s("td",[e._v(e._s(t.item.Transport))]),s("td",[e._v(e._s(e.sessionsSubscriptionsCount(t.item.ID)))]),e.hasWill(t.item)?s("td",[e._v(e._s(t.item.WillTopic)+" ← "+e._s(t.item.WillPayload))]):s("td",[s("i",[e._v("N/A")])]),s("td",[s("v-tooltip",{attrs:{bottom:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(s){e.showSubscriptions(t.item.ID)}},slot:"activator"},[s("v-icon",[e._v("share")])],1),s("span",[e._v("Show subscriptions")])],1)],1)]}}])})},ee=[],te=s("c1df"),se=s.n(te),ne=n["a"].extend({props:["sessions"],data(){return{ticker:null,currentTime:null,headers:[{text:"ID",sortable:!1,value:"id"},{text:"Tenant",value:"tenant"},{text:"Client ID",value:"clientId"},{text:"Uptime",value:"uptime"},{text:"Remote Address",value:"remote_addr"},{text:"Transport",value:"transport"},{text:"Subscriptions",value:"subscriptions"},{text:"LWT",value:"lwt"},{text:"Actions",value:"actions"}]}},mounted(){null!==this.ticker&&(clearInterval(this.ticker),this.ticker=null),this.getTimeFromNow(),this.ticker=setInterval(this.refreshTime,1e3)},destroyed(){null!==this.ticker&&(clearInterval(this.ticker),this.ticker=null)},methods:{formatID(e){return e.slice(0,8)},hasWill(e){return e.WillTopic&&e.WillTopic.length>0},sessionsSubscriptionsCount(e){return this.$store.getters.subscriptionsBySession(e).length},getTimeFromNow(e){return se.a.unix(e).from(this.currentTime)},refreshTime(){this.currentTime=se()()},showSubscriptions(e){this.$store.dispatch("SelectSession",e)}}}),re=ne,ie=s("3a2f"),oe=Object(d["a"])(re,Z,ee,!1,null,null,null);oe.options.__file="sessions.vue";var ae=oe.exports;p()(oe,{VBtn:m["a"],VDataTable:W["a"],VIcon:x["a"],VTooltip:ie["a"]});var ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.peers},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(e.formatID(t.item.ID)))]),s("td",[e._v(e._s(t.item.Hostname))]),s("td",[e._v(e._s(e.getTimeFromNow(t.item.Started)))]),s("td",[e._v(e._s(t.item.Services.join(", ")))]),s("td",[e._v(e._s(e.sessions(t.item.ID).length))]),s("td",[e._v(e._s(t.item.ComputeUsage.Goroutines))]),s("td",[e._v(e._s(Math.round(t.item.MemoryUsage.Alloc/1024/1024))+" Mo")]),s("td",[e._v(e._s(t.item.MemoryUsage.NumGC))])]}}])})},ue=[],le=n["a"].extend({computed:{peers(){return this.$store.getters.peers}},data(){return{ticker:null,currentTime:null,headers:[{text:"ID",sortable:!1,value:"id"},{text:"Hostname",value:"hostname"},{text:"Uptime",value:"uptime"},{text:"Services",value:"services"},{text:"Sessions",value:"sessions"},{text:"Goroutines",value:"goroutines"},{text:"Memory Usage",value:"memusage"},{text:"GC count",value:"numGc"}]}},mounted(){null!==this.ticker&&(clearInterval(this.ticker),this.ticker=null),this.getTimeFromNow(),this.ticker=setInterval(this.refreshTime,1e3)},destroyed(){null!==this.ticker&&(clearInterval(this.ticker),this.ticker=null)},methods:{getTimeFromNow(e){return se.a.unix(e).from(this.currentTime)},refreshTime(){this.currentTime=se()()},formatID(e){return e.slice(0,8)},sessions(e){return this.$store.getters.sessionsByPeer(e)}}}),de=le,fe=Object(d["a"])(de,ce,ue,!1,null,null,null);fe.options.__file="peers.vue";var pe=fe.exports;p()(fe,{VDataTable:W["a"]});var me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.peers},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(e.formatID(t.item.ID)))]),s("td",[e._v(e._s(t.item.Pattern))]),s("td",[e._v(e._s(t.item.SessionID))]),s("td",[e._v(e._s(t.item.Qos))])]}}])})},ve=[],be=n["a"].extend({computed:{peers(){return this.$store.getters.subscriptions}},data(){return{ticker:null,currentTime:null,headers:[{text:"ID",sortable:!1,value:"id"},{text:"Pattern",value:"pattern"},{text:"SessionID",value:"session_id"},{text:"Qos",value:"qos"}]}},methods:{formatID(e){return e.slice(0,8)}}}),he=be,_e=Object(d["a"])(he,me,ve,!1,null,null,null);_e.options.__file="subscriptionList.vue";var je=_e.exports;p()(_e,{VDataTable:W["a"]});var ge=s("2f62"),ke=n["a"].extend({components:{sessions:ae,peers:pe,subscriptions:je},computed:{...Object(ge["b"])(["sessions"])}}),xe=ke,we=Object(d["a"])(xe,X,Y,!1,null,null,null);we.options.__file="Home.vue";var ye=we.exports;p()(we,{VContainer:_["a"],VFlex:g["a"],VLayout:w["a"]}),n["a"].use(K["a"]);var Se=new K["a"]({routes:[{path:"/",name:"home",component:ye}]}),Te=(s("55dd"),s("96cf"),s("1da1")),Ie=(s("20d6"),s("e7fc"),s("bc3a")),Ce=s.n(Ie);function De(e,t){localStorage.setItem(e,JSON.stringify(t))}function Pe(e,t){try{var s=JSON.parse(localStorage.getItem(e));t(s)}catch(n){localStorage.removeItem(e)}}function Ve(e){De("state_mqtt_credentials",e)}function qe(e){Pe("state_mqtt_credentials",function(t){e.commit("set_mqtt_credentials",t)})}function Oe(e){De("state_mqtt_broker",e)}function $e(e){Pe("state_mqtt_broker",function(t){e.commit("set_mqtt_broker",t)})}n["a"].use(ge["a"]);var ze=new ge["a"].Store({state:{ui:{selectedSession:void 0},connection:{online:!1,pending:!1,error:void 0,credentials:{username:void 0,password:void 0},broker:void 0,session:void 0},sessions:[],subscriptions:[],peers:[]},mutations:{reset_state:function(e){e.sessions=[],e.subscriptions=[],e.peers=[]},reset_peers:function(e){e.peers=[]},reset_sessions:function(e){e.sessions=[]},reset_subscriptions:function(e){e.subscriptions=[]},select_session:function(e,t){e.ui.selectedSession=t},unselect_session:function(e){e.ui.selectedSession=void 0},set_mqtt_session:function(e,t){e.connection.session=t},set_mqtt_broker:function(e,t){e.connection.broker=t,Oe(t)},set_mqtt_connection_error:function(e,t){e.connection.error=t},set_mqtt_credentials:function(e,t){var s=t.username,n=t.password;e.connection.credentials.username=s,e.connection.credentials.password=n,Ve(e.connection.credentials)},set_mqtt_connection_pending:function(e){e.connection.pending=!0},set_mqtt_connection_online:function(e){e.connection.online=!0,e.connection.pending=!1},set_mqtt_connection_offline:function(e){e.connection.online=!1,e.connection.pending=!1},create_peer:function(e,t){var s=e.peers.findIndex(function(e){return e.ID===t.ID});-1!==s?n["a"].set(e.peers,s,t):e.peers.push(t)},set_peers:function(e,t){e.peers=t},delete_peer:function(e,t){var s=e.peers.findIndex(function(e){return e.ID===t});-1!==s&&(e.peers=e.peers.filter(function(e){return e.ID!==t}))},set_sessions:function(e,t){e.sessions=t},create_session:function(e,t){var s=e.sessions.findIndex(function(e){return e.ID===t.ID});-1!==s?n["a"].set(e.sessions,s,t):e.sessions.push(t)},delete_session:function(e,t){var s=e.sessions.findIndex(function(e){return e.ID===t});-1!==s&&(e.sessions=e.sessions.filter(function(e){return e.ID!==t}))},create_subscription:function(e,t){var s=e.subscriptions.findIndex(function(e){return e.ID===t.ID});-1!==s?n["a"].set(e.subscriptions,s,t):e.subscriptions.push(t)},set_subscriptions:function(e,t){e.subscriptions=t},delete_subscription:function(e,t){var s=e.subscriptions.findIndex(function(e){return e.ID===t});-1!==s&&(e.subscriptions=e.subscriptions.filter(function(e){return e.ID!==t}))}},actions:{refreshSessions:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s=t.commit,Ce.a.get("https://broker-api.iot.cloud.vx-labs.net/v1/sessions/").then(function(e){s("set_sessions",e.data.map(function(e){return e.WillPayload&&""!==e.WillPayload&&(e.WillPayload=atob(e.WillPayload)),e.WillTopic&&""!==e.WillTopic&&(e.WillTopic=atob(e.WillTopic)),e}))});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),refreshPeers:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s=t.commit,Ce.a.get("https://broker-api.iot.cloud.vx-labs.net/v1/peers/").then(function(e){s("set_peers",e.data.map(function(e){return void 0===e.Services&&(e.Services=[]),e}))});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),refreshSubscriptions:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s=t.commit,Ce.a.get("https://broker-api.iot.cloud.vx-labs.net/v1/subscriptions/").then(function(e){s("set_subscriptions",e.data.map(function(e){return e.Pattern&&""!==e.Pattern&&(e.Pattern=atob(e.Pattern)),e}))});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),startPoll:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.dispatch,e.next=3,s("refreshSessions");case 3:return e.next=5,s("refreshPeers");case 5:return e.next=7,s("refreshSubscriptions");case 7:setInterval(function(){s("refreshSessions")},3e3),setInterval(function(){s("refreshPeers")},3e3),setInterval(function(){s("refreshSubscriptions")},3e3);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),SetMQTTCredentials:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t,s){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,r=s.username,i=s.password,n("set_mqtt_credentials",{username:r,password:i});case 3:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),SetMQTTBroker:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t,s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n("set_mqtt_broker",s);case 2:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}(),PublishCommand:function(e,t){var s=e.state,n=t.topic,r=t.payload;return new Promise(function(e,t){void 0===s.connection.session&&t("client not connected");var i=s.connection.session;i.publish(n,r,{qos:1},function(){e()})})},SelectSession:function(e,t){var s=e.commit;s("select_session",t)},UnselectSession:function(e){var t=e.commit;t("unselect_session")}},getters:{mqtt_error:function(e){var t=e.connection.error;if(void 0!==t&&""!==t)return{4:"Connection Refused, bad user name or password"}[t]},mqtt_connected:function(e){return e.connection.online},mqtt_pending:function(e){return e.connection.pending},selectedSession:function(e){return e.ui.selectedSession},mqtt_broker:function(e){return e.connection.broker},mqtt_username:function(e){return e.connection.credentials.username},mqtt_password:function(e){return e.connection.credentials.password},sessions:function(e){return e.sessions.sort(function(e,t){return e.Created>t.Created?-1:e.Created<t.Created?1:0})},peers:function(e){return e.peers.sort()},subscriptions:function(e){return e.subscriptions},subscriptionsBySession:function(e){return function(t){return e.subscriptions.filter(function(e){return void 0!==t&&e.SessionID===t})}},sessionsByPeer:function(e){return function(t){return e.sessions.filter(function(e){return void 0!==t&&e.Peer===t})}}}});qe(ze),$e(ze),ze.dispatch("startPoll");var Me=ze;n["a"].config.productionTip=!1,new n["a"]({router:Se,store:Me,render:function(e){return e(J)}}).$mount("#app")}});
//# sourceMappingURL=app.cedd0fb4.js.map